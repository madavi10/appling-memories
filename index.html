<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Family Video Library</title>

<style>
/* ===============================
   THEME VARIABLES
   =============================== */
:root{
  --bg1:#1e6a2e;
  --bg2:#77ff7b;
  --panel:rgba(25,70,35,.78);
  --panel2:rgba(35,95,48,.65);
  --header:rgba(120,220,110,.50);
  --tabActive1:#b7ff7e;
  --tabActive2:#6bff7b;
}

/* Per-tab themes */
body[data-theme="family"]{--bg1:#174b7a;--bg2:#74d6ff;}
body[data-theme="andrew"]{--bg1:#6a1e6a;--bg2:#ff7bf3;}
body[data-theme="matthew"]{--bg1:#7a3a10;--bg2:#ffbf7b;}
body[data-theme="michael"]{--bg1:#124f4a;--bg2:#7bffd6;}
body[data-theme="marykay"]{--bg1:#7a1e2a;--bg2:#ff7b92;}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:radial-gradient(circle at 25% 15%,var(--bg2),var(--bg1));
  padding:32px;
  min-height:100vh;
}

/* Layout */
.shell{max-width:1200px;margin:auto;display:grid;grid-template-columns:280px 1fr;gap:22px;}
.tabs{background:rgba(255,255,255,.22);padding:14px;border-radius:14px;}
.tab-btn{width:100%;margin:8px 0;padding:14px;border:none;border-radius:14px;font-weight:800;cursor:pointer;}
.tab-btn.active{background:linear-gradient(var(--tabActive1),var(--tabActive2));}
.content{position:relative}
.header{background:var(--header);padding:26px;border-radius:18px;position:relative;}
.header-art{position:absolute;top:6px;right:18px;width:190px;opacity:.95;}
.panel{margin-top:18px;background:var(--panel);padding:18px;border-radius:18px;}
.row{background:var(--panel2);padding:14px;border-radius:14px;display:flex;justify-content:space-between;}
.title{color:#fff;font-weight:800}
.play{border:none;border-radius:999px;padding:8px 16px;font-weight:800;cursor:pointer}
</style>
</head>

<body data-theme="all">

<div class="shell">

  <!-- TABS -->
  <div class="tabs" id="tabs">
    <button class="tab-btn active" data-person="all" data-theme="all">All Videos</button>
    <button class="tab-btn" data-person="family" data-theme="family">Family</button>
    <button class="tab-btn" data-person="andrew" data-theme="andrew">Andrew</button>
    <button class="tab-btn" data-person="matthew" data-theme="matthew">Matthew</button>
    <button class="tab-btn" data-person="michael" data-theme="michael">Michael</button>
    <button class="tab-btn" data-person="marykay" data-theme="marykay">Mary Kay</button>
  </div>

  <!-- CONTENT -->
  <div class="content">
    <div class="header">
      <h1>Family Video Library</h1>
      <img class="header-art" src="cloud.png" alt="">
    </div>

    <div class="panel">
      <div id="rows"></div>
    </div>
  </div>
</div>

<script>
/* =========================================================
   ðŸ”‘ CONFIG â€” THIS IS WHERE YOU PASTE YOUR API KEY
   ========================================================= */
const GOOGLE_API_KEY = "AIzaSyBIJ4oKSFWJM8b56CXqdRAoxHyi43MIrw0";
const DRIVE_FOLDER_ID = "PASTE_FOLDER_ID_HERE";

/* =========================================================
   GOOGLE DRIVE LOAD
   ========================================================= */
let activePerson = "all";
const rowsEl = document.getElementById("rows");

async function loadVideos(){
  const q = `'${DRIVE_FOLDER_ID}' in parents and mimeType contains 'video/'`;
  const url = `https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(q)}&fields=files(id,name)&key=${GOOGLE_API_KEY}`;

  const res = await fetch(url);
  const data = await res.json();
  window.ALL_VIDEOS = data.files || [];
  render();
}

function render(){
  rowsEl.innerHTML = "";
  window.ALL_VIDEOS
    .filter(v => activePerson==="all" || v.name.toLowerCase().includes(activePerson))
    .forEach(v=>{
      const row=document.createElement("div");
      row.className="row";
      row.innerHTML=`
        <div class="title">${v.name}</div>
        <button class="play" onclick="window.open('https://drive.google.com/file/d/${v.id}/view','_blank')">Play</button>
      `;
      rowsEl.appendChild(row);
    });
}

/* Tabs */
document.getElementById("tabs").addEventListener("click",e=>{
  const btn=e.target.closest(".tab-btn");
  if(!btn) return;
  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  activePerson=btn.dataset.person;
  document.body.dataset.theme=btn.dataset.theme;
  render();
});

/* Init */
loadVideos();
</script>

</body>
</html>
